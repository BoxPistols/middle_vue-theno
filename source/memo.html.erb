<%= javascript_include_tag "jquery.min" %>

<%= stylesheet_link_tag "mg.min" %>

<div class="memo-controller">
  <h1>メモ帳</h1>
  <div class="run">
    <p id="message" style="display:none;">Auto Saving ..</p>
  </div>

  <textarea id="memo" name="memo"></textarea>

  <div class="controller">
    <p>
      <!-- <input type="button" id="save" value="保存"> -->
      <input type="button" id="clear" value="消去"></p>
  </div>
</div>

<script type="text/javascript">
  $(function () {

    if (localStorage.getItem('memo')) {
      $('#memo').val(localStorage.getItem('memo'));
    }

    $('#clear').click(function () {
      $('#memo').val('');
      localStorage.removeItem('memo');
    });

    $('#memo').on('keyup', function () {
      localStorage.setItem('memo', $('#memo').val());
      $('#message').fadeIn(500).fadeOut(500);
    });

    /*   (function autoSave() {
      localStorage.setItem('memo', $('#memo').val());
      $('#message').show().hide(200);
      setTimeout(autoSave, 1000);
    })();
     */
  });
</script>
